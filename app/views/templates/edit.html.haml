= form_for @template do |f|
  - if @template.errors.any?
    #error_explanation
      %h2= "#{pluralize(@template.errors.count, "error")} prohibited this template from being saved:"
      %ul
        - @template.errors.full_messages.each do |msg|
          %li= msg

= hidden_field_tag 'template_id', @template.id
= hidden_field_tag 'template_path', template_path(@template) + '.json'
= hidden_field_tag 'template_method', @template.id.blank? ? 'POST' : "PUT"
%article
  .row.col-sm-10.col-sm-offset-1.text-center
    %h1.template-name{ contenteditable: true }= @template.name_text
  .row.col-sm-10.col-sm-offset-1.text-center
    %h3.template-desc{ contenteditable: true }= @template.desc_text
  .row.col-sm-6.col-sm-offset-3.text-center
    = image_tag @template.image.blank? ? "upload.svg" : @template.image_url, class: "template-image"
    = file_field :template, 'image'
  .row.col-sm-8.col-sm-offset-2.text-center
    %section.template-text{ contenteditable: true }= @template.body_text

  .row.col-sm-10.col-sm-offset-1.text-right.template-actions
    %span.template-message
    %span.template-save.btn.btn-success Save
    = link_to 'Show', @template, class: 'btn btn-default'
    = link_to 'Back', templates_path, class: 'btn btn-warning'
    = link_to 'Destroy', @template, :method => :delete, :data => { :confirm => 'Are you sure?' }, class: 'btn btn-danger'
:javascript
  template_update_image();
  template_update();